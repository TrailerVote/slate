
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>TrailerVote Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;objective_c&quot;,&quot;swift&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.svg" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="objective_c">objective_c</a>
              <a href="#" data-language-name="swift">swift</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#requirements" class="toc-h1 toc-link" data-title="Requirements">Requirements</a>
          </li>
          <li>
            <a href="#ios" class="toc-h1 toc-link" data-title="iOS">iOS</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#installation" class="toc-h2 toc-link" data-title="Installation">Installation</a>
                  </li>
                  <li>
                    <a href="#getting-started" class="toc-h2 toc-link" data-title="Getting Started">Getting Started</a>
                  </li>
                  <li>
                    <a href="#in-theatre-voting-experience" class="toc-h2 toc-link" data-title="In-Theatre Voting Experience">In-Theatre Voting Experience</a>
                  </li>
                  <li>
                    <a href="#displaying-the-watchlist" class="toc-h2 toc-link" data-title="Displaying the Watchlist">Displaying the Watchlist</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#additional-notes" class="toc-h1 toc-link" data-title="Additional Notes">Additional Notes</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li>© TrailerVote</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>The TrailerVote is a innovative software service that enables movie-ticketing apps to increases user engagement and customer understanding by encouraging moviegoers to rate trailers as they are played on the big screen of the cinema. Users are later sent notifications as a reminder that tickets for the movie they wanted see are now on sale.</p>

<p>Features include:</p>

<ul>
<li>Theatre-Optimized Audio Recognition: Optimized for complex cinema environments including 7+ speakers, reverb, echo, deep bass</li>
<li>Branding &amp; Styling: Custom branding for listening experience with your choice of background colors and logo.</li>
<li>Offline audio recognition: Minimizes the need for network connectivity at the cinema.</li>
<li>Custom Recognition: Identify trailer content, loyalty program promotions, or advertisements and serve the corresponding interactions.</li>
</ul>
<h1 id='requirements'>Requirements</h1>
<p>In order to use TrailerVote technology, you must have the following:</p>

<ul>
<li>A movie-related mobile app</li>
<li>Xcode 9 or higher</li>
<li>iOS 10 or higher</li>
</ul>
<h1 id='ios'>iOS</h1><h2 id='installation'>Installation</h2>
<ol>
<li>Download &amp; unzip the latest iOS SDK from https://trailervote.com/downloads/ios-sdk.</li>
<li>Drag TrailerVoteSDK.framework into your Xcode project tree:
<img src="images/img_framework_in_project_tree.png" title="TrailerVote Framework in Xcode Project" alt="alt text" /></li>
<li>In your app Target Settings -&gt; General tab, under the Embedded Binaries section, click the + button and select the imported TrailerVoteSDK.framework item. Click the Add button.
<img src="images/img_framework_embedding.png" title="TrailerVote Embedding" alt="alt text" /></li>
</ol>
<h2 id='getting-started'>Getting Started</h2><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">TrailerVoteSDK</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="cp">#import &lt;TrailerVoteSDK/TrailerVoteSDK.h&gt;
</span></code></pre>
<p>The TrailerVote SDK has to be imported before it can be used.</p>

<p></br>
</br></p>
<pre class="highlight swift tab-swift"><code><span class="kd">@UIApplicationMain</span>
<span class="kd">class</span> <span class="kt">AppDelegate</span><span class="p">:</span> <span class="kt">UIResponder</span><span class="p">,</span> <span class="kt">UIApplicationDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplication</span><span class="o">.</span><span class="kt">LaunchOptionsKey</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>

        <span class="c1">// setup the SDK credentials</span>
        <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">setupCredentials</span><span class="p">(</span><span class="nv">withUsername</span><span class="p">:</span> <span class="s">"ReplaceThisWithAKeyWeProvide"</span><span class="p">,</span> <span class="nv">password</span><span class="p">:</span> <span class="s">"ReplaceThisWithAPasswordWeProvide"</span><span class="p">)</span>

        <span class="c1">// launch the trailer recognition feature data preload</span>
        <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">launchDataPreload</span><span class="p">()</span>

        <span class="c1">// override the default partner logo image</span>
        <span class="k">let</span> <span class="nv">partnerLogoImage</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"logo"</span><span class="p">)</span>
        <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">setPartnerLogoImage</span><span class="p">(</span><span class="n">partnerLogoImage</span><span class="p">)</span>

        <span class="c1">// process a remote notifications payload, if the app was launched by tapping the notification</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">remoteNotificationPayload</span> <span class="o">=</span> <span class="n">launchOptions</span><span class="p">?[</span><span class="o">.</span><span class="n">remoteNotification</span><span class="p">]</span> <span class="k">as?</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="p">{</span>
            <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">processPushNotificationPayload</span><span class="p">(</span><span class="n">remoteNotificationPayload</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="kc">true</span>

    <span class="p">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="k">@interface</span> <span class="nc">AppDelegate</span> <span class="p">:</span> <span class="nc">UIResponder</span> <span class="o">&lt;</span><span class="n">UIApplicationDelegate</span><span class="o">&gt;</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="n">UIWindow</span> <span class="o">*</span> <span class="n">window</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">AppDelegate</span>

<span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span>
<span class="p">{</span>
    <span class="c1">// setup the SDK credentials
</span>    <span class="p">[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">setupCredentialsWithUsername</span><span class="p">:</span><span class="s">@"ReplaceThisWithAKeyWeProvide"</span> <span class="nf">password</span><span class="p">:</span><span class="s">@"ReplaceThisWithAPasswordWeProvide"</span><span class="p">];</span>

    <span class="c1">// launch the trailer recognition feature data preload
</span>    <span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">launchDataPreload</span><span class="p">];</span>

    <span class="c1">// override the default partner logo image
</span>    <span class="n">UIImage</span> <span class="o">*</span> <span class="n">partnerLogoImage</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nf">imageNamed</span><span class="p">:</span><span class="s">@"logo"</span><span class="p">];</span>
    <span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">setPartnerLogoImage</span><span class="p">:</span><span class="n">partnerLogoImage</span><span class="p">];</span>

    <span class="c1">// process a remote notifications payload, if the app was launched by tapping the notification
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="nf">UIApplicationLaunchOptionsRemoteNotificationKey</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">NSDictionary</span> <span class="o">*</span> <span class="n">payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="n">options</span><span class="p">[</span><span class="nf">UIApplicationLaunchOptionsRemoteNotificationKey</span><span class="p">];</span>
        <span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">processPushNotificationPayload</span><span class="p">:</span><span class="n">payload</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<p>The <code>setupCredentials</code>, <code>launchDataPreload</code>, <code>setPartnerLogoImage</code>, and <code>processPushNotificationPayload</code> functions can be included in the <code>didFinishLaunchingWithOptions</code> function.</p>

<p></br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br></p>
<pre class="highlight swift tab-swift"><code>    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didRegisterForRemoteNotificationsWithDeviceToken</span> <span class="nv">deviceToken</span><span class="p">:</span> <span class="kt">Data</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// enable the remote notifications feature once the device token is received</span>
        <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">enablePushNotifications</span><span class="p">(</span><span class="nv">withDeviceID</span><span class="p">:</span> <span class="n">deviceToken</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="kt">String</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="s">"%02.2hhx"</span><span class="p">,</span> <span class="nv">$0</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="nf">joined</span><span class="p">())</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didReceiveRemoteNotification</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">],</span> <span class="n">fetchCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">UIBackgroundFetchResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// get the SDK to process received remote notification payload</span>
        <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">processPushNotificationPayload</span><span class="p">(</span><span class="n">userInfo</span><span class="p">)</span>

        <span class="nf">completionHandler</span><span class="p">(</span><span class="o">.</span><span class="n">noData</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didRegisterForRemoteNotificationsWithDeviceToken</span><span class="p">:(</span><span class="n">NSData</span> <span class="o">*</span><span class="p">)</span><span class="nv">devToken</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">unsigned</span> <span class="o">*</span> <span class="n">tokenBytes</span> <span class="o">=</span> <span class="p">[</span><span class="n">devToken</span> <span class="nf">bytes</span><span class="p">];</span>
    <span class="n">NSString</span> <span class="o">*</span> <span class="n">hexToken</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"%08x%08x%08x%08x%08x%08x%08x%08x"</span><span class="p">,</span>
                         <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
                         <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">5</span><span class="p">]),</span>
                         <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">6</span><span class="p">]),</span> <span class="n">ntohl</span><span class="p">(</span><span class="n">tokenBytes</span><span class="p">[</span><span class="mi">7</span><span class="p">])];</span>

     <span class="c1">// enable the remote notifications feature once the device token is received
</span>     <span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">enablePushNotificationsWithDeviceID</span><span class="p">:</span><span class="n">hexToken</span><span class="p">];</span>   
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didReceiveRemoteNotification</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">userInfo</span> <span class="nf">fetchCompletionHandler</span><span class="p">:(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">UIBackgroundFetchResult</span> <span class="n">result</span><span class="p">))</span><span class="nv">completionHandler</span>
<span class="p">{</span>
    <span class="c1">// get the SDK to process received remote notification
</span>    <span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">processPushNotificationPayload</span><span class="p">:</span><span class="n">userInfo</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre>
<p>In order to receive the notifications from TrailerVote, you have to enable notifications.
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br></p>
<pre class="highlight swift tab-swift"><code><span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">logEvent</span><span class="p">(</span><span class="s">"ticket-purchased"</span><span class="p">,</span> <span class="nv">identifier</span><span class="p">:</span> <span class="s">"your-movie-identifier"</span><span class="p">,</span> <span class="nv">quantity</span><span class="p">:</span> <span class="s">"number-of-tickets"</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="s">"sum-of-ticket-prices"</span><span class="p">,</span> <span class="nv">fees</span><span class="p">:</span><span class="s">"convenience-fees-charged"</span><span class="p">,</span> <span class="nv">currency</span><span class="p">:</span><span class="s">"three-letter-currency-code"</span><span class="p">)</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">logEvent</span><span class="p">:</span><span class="s">@"ticket-purchased"</span> <span class="nf">identifier</span><span class="p">:</span><span class="s">@"your-cinema-identifier"</span> <span class="n">quantity</span><span class="o">:</span><span class="s">@"number-of-tickets"</span> <span class="n">value</span><span class="o">:</span><span class="s">@"sum-of-ticket-prices"</span> <span class="n">fees</span><span class="o">:</span><span class="s">"convenience-fees-charged"</span> <span class="n">currency</span><span class="o">:</span><span class="s">@"three-letter-currency-code"</span><span class="p">];</span>
</code></pre>
<p>To determine the effectiveness of notifications and reminders, use the <code>logEvent</code> method to report the completion of a transaction (in this case a ticket purchase) to TrailerVote. These results will be reflected in the client&#39;s analytics.</p>
<h2 id='in-theatre-voting-experience'>In-Theatre Voting Experience</h2>
<p>The main feature of the SDK is the movie trailers recognition. We use the TVAudioRecognitionViewController class for presenting a full-screen user interface and for handling the recognition processes.
<img src="images/img_listening_screen.png" title="TrailerVote Listening Screen" alt="alt text" /></p>
<pre class="highlight objective_c tab-objective_c"><code><span class="n">TVAudioRecognitionViewController</span> <span class="o">*</span> <span class="n">audioRecognitionVC</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">audioRecognitionViewController</span><span class="p">];</span>
<span class="p">[</span><span class="n">self</span> <span class="nf">presentViewController</span><span class="p">:</span><span class="n">audioRecognitionVC</span> <span class="nf">animated</span><span class="p">:</span><span class="nb">YES</span> <span class="n">completion</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="k">let</span> <span class="nv">audioRecognitionVC</span> <span class="o">=</span> <span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">audioRecognitionViewController</span><span class="p">()</span>
<span class="nf">present</span><span class="p">(</span><span class="n">audioRecognitionVC</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
</code></pre>
<p>Instantiate the view controller by calling the <code>[TVTrailerVoteFactory audioRecognitionViewController]</code> method of the main factory class:
After creating an instance, the audio recognition view controller can be easily presented using UIKit present(_:animated:completion:) method:</p>

<p>When the movie trailer is recognized, the voting buttons are shown with the prompt for the user to vote.
<img src="images/img_recognition_screen_voting.png" title="TrailerVote Listening Screen" alt="alt text" />
After the user votes, the feedback is recorded internally in the SDK and transmitted to TrailerVote. This means that this information is visible in the voted trailers feed and any API that exposes the vote.</p>

<p>Note: Special advertisement clips, such as ad banners or special action triggers are handled differently - the fullscreen web view is presented with the corresponding url being loaded or some other UI elements are presented, such as the “Put your phones away” view.</p>
<h2 id='displaying-the-watchlist'>Displaying the Watchlist</h2>
<p><img src="images/img_voted_movies_feed.png" title="TrailerVote Watchlist" alt="alt text" /></p>

<blockquote>
<p>To embed the view into your UI, call the </p>
</blockquote>
<pre class="highlight objective_c tab-objective_c"><code><span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">votedTrailersFeedViewControllerEmbeddedInParentViewController</span><span class="p">:</span><span class="nf">parentView</span><span class="p">:]</span>

</code></pre><pre class="highlight swift tab-swift"><code><span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">votedTrailersFeedViewControllerEmbedded</span><span class="p">(</span><span class="nv">inParentViewController</span><span class="p">:</span><span class="nv">parentView</span><span class="p">:)</span>
</code></pre><h1 id='additional-notes'>Additional Notes</h1><pre class="highlight objective_c tab-objective_c"><code><span class="p">[[</span><span class="n">TVTrailerVoteFactory</span> <span class="nf">sharedFactory</span><span class="p">]</span> <span class="nf">disablePushNotifications</span><span class="p">]</span> 
</code></pre><pre class="highlight swift tab-swift"><code><span class="kt">TVTrailerVoteFactory</span><span class="o">.</span><span class="nf">shared</span><span class="p">()</span><span class="o">.</span><span class="nf">disablePushNotifications</span><span class="p">()</span>
</code></pre>
<p>In some time later, when you wish to stop the remote notifications capability, call the method to remove the current device from the notifications recipients list.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="objective_c">objective_c</a>
                <a href="#" data-language-name="swift">swift</a>
          </div>
      </div>
    </div>
  </body>
</html>
